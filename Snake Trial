import pygame as pg
import random

# Window game
screen = pg.display.set_mode((600, 600))
pg.display.set_caption('Snake game')

# Variables
snake_part = 20
x = y = 200
x_change = y_change = 0
body_snake = [(x, y)]
length = 1

# Create Fruit
fruit_x = random.randint(0, 19) * snake_part
fruit_y = random.randint(0, 19) * snake_part

# Snake Speed
clock = pg.time.Clock()
speed = 5

# Game Loop
gameplay = True
while gameplay:
    for event in pg.event.get():
        # Quit game
        if event.type == pg.QUIT:
            gameplay = False

        # Snake move
        if event.type == pg.KEYDOWN:
            if event.key == pg.K_LEFT and x_change == 0:
                x_change = -snake_part
                y_change = 0
            elif event.key == pg.K_RIGHT and x_change == 0:
                x_change = snake_part
                y_change = 0
            elif event.key == pg.K_UP and y_change == 0:
                x_change = 0
                y_change = -snake_part
            elif event.key == pg.K_DOWN and y_change == 0:
                x_change = 0
                y_change = snake_part

    # Update Snake Position
    x += x_change
    y += y_change

    # Check Snake Eats Fruit
    if x == fruit_x and y == fruit_y:
        length += 1
        # Random food after eating
        fruit_x = random.randint(0, 19) * snake_part
        fruit_y = random.randint(0, 19) * snake_part

    # Add Snake Part
    body_snake.append((x, y))

    # Remove Snake Part
    if len(body_snake) > length:
        del body_snake[0]

    # Clear Screen
    screen.fill((0, 0, 0))

    # Draw Snake Body
    for x, y in body_snake:
        pg.draw.rect(screen, (255, 255, 255), (x, y, snake_part, snake_part))

    # Draw Food
    pg.draw.rect(screen, (255, 0, 0), (fruit_x, fruit_y, snake_part, snake_part))

    # Update
    pg.display.update()

    # Control speed
    clock.tick(speed)

pg.quit()
